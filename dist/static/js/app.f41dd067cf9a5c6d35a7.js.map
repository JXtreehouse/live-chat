{"version":3,"sources":["webpack:///static/js/app.f41dd067cf9a5c6d35a7.js","webpack:///./src/frontend/js/store.js","webpack:///./src/frontend/js/util.js","webpack:///./src/frontend/app.vue?0bea","webpack:///./src/frontend/components/card.vue?48ee","webpack:///./src/frontend/components/list.vue?c945","webpack:///./src/frontend/components/loginPanel.vue?8a08","webpack:///./src/frontend/components/message.vue?b64a","webpack:///./src/frontend/components/textBox.vue?6613","webpack:///./src/frontend/components/userListPanel.vue","webpack:///./src/frontend/components/message.vue?8988","webpack:///./src/frontend/components/textBox.vue?9d84","webpack:///./src/frontend/components/card.vue?8775","webpack:///./src/frontend/components/loginPanel.vue?c229","webpack:///./src/frontend/components/userListPanel.vue?f407","webpack:///./src/frontend/components/list.vue?cd31","webpack:///./src/frontend/app.vue?a289","webpack:///app.vue","webpack:///card.vue","webpack:///list.vue","webpack:///loginPanel.vue","webpack:///message.vue","webpack:///textBox.vue","webpack:///userListPanel.vue","webpack:///./src/frontend/js/client.js","webpack:///./src/frontend/main.js"],"names":["webpackJsonp","module","__webpack_exports__","__webpack_require__","connect","state","client","__WEBPACK_IMPORTED_MODULE_2__client__","host","location","origin","port","alert","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vuex__","__WEBPACK_IMPORTED_MODULE_3__util__","use","store","Store","users","me","sessions","currentSession","filterKey","getters","_ref","_ref2","onlineUsers","_ref3","myLoginName","filter","user","loginName","_ref4","_ref5","_ref6","session","toUpperCase","includes","_ref7","mutations","initSessions","setCurrentSession","messages","exitSession","i","push","forEach","msg","to","read","initUsers","refreshUser","oldUser","indexOf","setFilterKey","value","logout","actions","register","_ref8","payload","login","_ref9","sendMsg","_ref10","content","msgId","message","id","from","self","date","Date","findSession","__WEBPACK_IMPORTED_MODULE_2__store__","length","findUser","copyProperties","target","source","console","error","key","cache","valueStr","window","localStorage","getItem","JSON","parse","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","setItem","guid","replace","c","r","Math","random","toString","d","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__","exports","injectStyle","ssrContext","Component","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","staticClass","_l","item","_v","_s","_f","class","attrs","width","height","src","img","_e","staticRenderFns","expression","disabled","placeholder","domProps","on","keyup","onKeyup","input","$event","composing","alt","type","password","click","toggleLogin","denglu","showLoginForm","confirmPassword","registerCode","zhuce","staticStyle","display","vertical-align","href","notReadMsgCount","index","active","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_1__components_card__","__WEBPACK_IMPORTED_MODULE_1__components_card___default","__WEBPACK_IMPORTED_MODULE_2__components_list__","__WEBPACK_IMPORTED_MODULE_2__components_list___default","__WEBPACK_IMPORTED_MODULE_3__components_textBox__","__WEBPACK_IMPORTED_MODULE_3__components_textBox___default","__WEBPACK_IMPORTED_MODULE_4__components_message__","__WEBPACK_IMPORTED_MODULE_4__components_message___default","__WEBPACK_IMPORTED_MODULE_5__components_loginPanel_vue__","__WEBPACK_IMPORTED_MODULE_5__components_loginPanel_vue___default","__WEBPACK_IMPORTED_MODULE_6__components_userListPanel_vue__","__WEBPACK_IMPORTED_MODULE_6__components_userListPanel_vue___default","__WEBPACK_IMPORTED_MODULE_7__js_store__","__WEBPACK_IMPORTED_MODULE_8_vuex__","components","Card","a","List","TextBox","Message","loginPanel","userListPanel","computed","mounted","onunload","disconnect","methods","e","filters","truncateStr","substring","__WEBPACK_IMPORTED_MODULE_2__js_util__","data","credential","autoLogin","$store","dispatch","time","getHours","getMinutes","readFilter","alreadyRead","scroll-bottom","componentUpdated","el","scrollTop","scrollHeight","clientHeight","keyCode","registerEvent","socket","callBack","onReceiveMsg","onDisconnect","onNotifyUserLogin","onKickOff","onReceiveRead","ChatClient","events","param","emit","code","rMsg","rData","__WEBPACK_IMPORTED_MODULE_0__store__","commit","__WEBPACK_IMPORTED_MODULE_1__util__","find","userFrom","onlineUser","prototype","event","callback","connectUrl","io","call","__WEBPACK_IMPORTED_MODULE_1__app_vue__","__WEBPACK_IMPORTED_MODULE_1__app_vue___default","__WEBPACK_IMPORTED_MODULE_2__js_store__","__WEBPACK_IMPORTED_MODULE_3__css_reset_css__","config","devtools","template","App"],"mappings":"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","file":"static/js/app.f41dd067cf9a5c6d35a7.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__client__ = __webpack_require__(111);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util__ = __webpack_require__(32);\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"a\" /* default */]);\n\nfunction connect(state) {\n  state.client = new __WEBPACK_IMPORTED_MODULE_2__client__[\"a\" /* ChatClient */]({ host: location.origin, port: 6443 });\n  if (!state.client.connect()) {\n    alert('连接失败');\n  }\n}\n\nvar store = new __WEBPACK_IMPORTED_MODULE_1_vuex__[\"a\" /* default */].Store({\n  state: {\n    client: null,\n    users: [],\n    me: null,\n    sessions: [],\n    currentSession: null,\n    filterKey: '' },\n  getters: {\n    client: function client(_ref) {\n      var _client = _ref.client;\n      return _client;\n    },\n    users: function users(_ref2) {\n      var _users = _ref2.users;\n      return _users;\n    },\n    onlineUsers: function onlineUsers(_ref3) {\n      var users = _ref3.users,\n          myLoginName = _ref3.myLoginName;\n      return users.filter(function (user) {\n        return user.loginName !== myLoginName;\n      });\n    },\n    me: function me(_ref4) {\n      var _me = _ref4.me;\n      return _me;\n    },\n    myLoginName: function myLoginName(_ref5) {\n      var _myLoginName = _ref5.myLoginName;\n      return _myLoginName;\n    },\n    sessions: function sessions(_ref6) {\n      var _sessions = _ref6.sessions,\n          filterKey = _ref6.filterKey;\n      return _sessions && _sessions.filter(function (session) {\n        return !filterKey || session.loginName.toUpperCase().includes(filterKey.toUpperCase());\n      });\n    },\n    currentSession: function currentSession(_ref7) {\n      var _currentSession = _ref7.currentSession;\n      return _currentSession;\n    }\n  },\n  mutations: {\n    initSessions: function initSessions(state, sessions) {\n      state.sessions = sessions;\n    },\n    setCurrentSession: function setCurrentSession(state, session) {\n      if (!session.messages) session.messages = [];\n      var exitSession = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util__[\"a\" /* findSession */])(session.loginName);\n      if (exitSession) {\n        state.currentSession = exitSession;\n      } else {\n        exitSession = session;\n        state.currentSession = session;\n        state.sessions.push(session);\n      }\n\n      exitSession.messages.forEach(function (msg) {\n        if (state.me.loginName === msg.to) {\n          state.client.read(msg);\n        }\n      });\n    },\n    initUsers: function initUsers(state, user) {\n      state.me = user;\n      state.users = user.onlineUsers;\n    },\n    refreshUser: function refreshUser(state, user) {\n      var oldUser;\n      if (oldUser = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util__[\"b\" /* findUser */])(user.loginName)) {\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util__[\"c\" /* copyProperties */])(oldUser, user);\n        return state.users[state.users.indexOf(oldUser)] = user;\n      }\n\n      state.users.push(user);\n    },\n\n    setFilterKey: function setFilterKey(state, value) {\n      return state.filterKey = value;\n    },\n    logout: function logout(state) {\n      return state.me = null;\n    }\n  },\n  actions: {\n    register: function register(_ref8, payload) {\n      var state = _ref8.state;\n\n      connect(state);\n      state.client.register(payload);\n    },\n    login: function login(_ref9, payload) {\n      var state = _ref9.state;\n\n      connect(state);\n      state.client.login(payload);\n    },\n    sendMsg: function sendMsg(_ref10, content) {\n      var state = _ref10.state;\n\n      var msgId = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util__[\"d\" /* guid */])(),\n          message = {\n        id: msgId,\n        from: state.me.loginName,\n        to: state.currentSession.loginName,\n        content: content,\n        self: true,\n        read: false,\n        date: new Date()\n      };\n\n      var session = {};\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util__[\"c\" /* copyProperties */])(session, state.currentSession);\n      session.messages.push(message);\n      state.currentSession = session;\n\n\n      state.client.sendMsg({\n        id: msgId,\n        'from': state.me.loginName,\n        'to': state.currentSession.loginName,\n        content: content\n      });\n    }\n  }\n});\n/* harmony default export */ __webpack_exports__[\"a\"] = (store);\n\n/***/ }),\n/* 14 */,\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */,\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return findSession; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return findUser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return copyProperties; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return cache; });\n/* unused harmony export response */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return guid; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(99);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__ = __webpack_require__(103);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__store__ = __webpack_require__(13);\n\n\n\n\nfunction findSession(loginName) {\n  var sessions = __WEBPACK_IMPORTED_MODULE_2__store__[\"a\" /* default */].getters.sessions;\n  for (var i = 0; i < sessions.length; i++) {\n    if (sessions[i].loginName === loginName) {\n      return sessions[i];\n    }\n  }\n}\n\nfunction findUser(loginName) {\n  var users = __WEBPACK_IMPORTED_MODULE_2__store__[\"a\" /* default */].getters.users;\n  for (var i = 0; i < users.length; i++) {\n    if (users[i].loginName === loginName) {\n      return users[i];\n    }\n  }\n}\n\nfunction copyProperties(target, source) {\n  if (!target || !source) {\n    return console.error('target and source must not be null');\n  }\n  for (var key in source) {\n    target[key] = source[key];\n  }\n}\n\nfunction cache(key, value) {\n  if (!value) {\n    var valueStr = window.localStorage.getItem(key);\n    return valueStr ? JSON.parse(valueStr) : null;\n  }\n\n  if ((typeof value === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(value)) === 'object') {\n    value = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(value);\n  }\n  window.localStorage.setItem(key, value);\n}\n\nvar response = {\n  ok: function ok(data) {\n    this.code = 1;\n    this.rData = data;\n    return this;\n  },\n  fail: function fail(msg) {\n    this.code = 0;\n    this.rMsg = msg;\n    return this;\n  }\n};\n\nfunction guid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c == 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n\n\n\n/***/ }),\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */,\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(65)\n}\nvar Component = __webpack_require__(2)(\n  /* script */\n  __webpack_require__(104),\n  /* template */\n  __webpack_require__(58),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-b822579a\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(61)\n}\nvar Component = __webpack_require__(2)(\n  /* script */\n  __webpack_require__(105),\n  /* template */\n  __webpack_require__(54),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-59b0957b\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(64)\n}\nvar Component = __webpack_require__(2)(\n  /* script */\n  __webpack_require__(106),\n  /* template */\n  __webpack_require__(57),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-ab3957ee\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(62)\n}\nvar Component = __webpack_require__(2)(\n  /* script */\n  __webpack_require__(107),\n  /* template */\n  __webpack_require__(55),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-5ca4d274\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(59)\n}\nvar Component = __webpack_require__(2)(\n  /* script */\n  __webpack_require__(108),\n  /* template */\n  __webpack_require__(52),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-081a726c\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(60)\n}\nvar Component = __webpack_require__(2)(\n  /* script */\n  __webpack_require__(109),\n  /* template */\n  __webpack_require__(53),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-0e640443\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(63)\n}\nvar Component = __webpack_require__(2)(\n  /* script */\n  __webpack_require__(110),\n  /* template */\n  __webpack_require__(56),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-5d03e1c0\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"scroll-bottom\",\n      rawName: \"v-scroll-bottom\"\n    }],\n    staticClass: \"message\"\n  }, [(_vm.currentSession) ? _c('ul', _vm._l((_vm.currentSession.messages), function(item) {\n    return _c('li', [_c('p', {\n      staticClass: \"time\"\n    }, [_c('span', [_vm._v(_vm._s(_vm._f(\"time\")(item.date)))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"main\",\n      class: {\n        self: item.self\n      }\n    }, [_c('img', {\n      staticClass: \"avatar\",\n      attrs: {\n        \"width\": \"30\",\n        \"height\": \"30\",\n        \"src\": item.self ? _vm.me.img : _vm.currentSession.img\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"text\"\n    }, [_vm._v(_vm._s(item.content))]), _vm._v(\" \"), (item.self) ? _c('div', {\n      staticClass: \"read-text\"\n    }, [_vm._v(_vm._s(_vm._f(\"readFilter\")(item.read)) + \" \")]) : _vm._e()])])\n  })) : _vm._e()])\n},staticRenderFns: []}\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"text\"\n  }, [_c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.content),\n      expression: \"content\"\n    }],\n    attrs: {\n      \"disabled\": !_vm.currentSession,\n      \"placeholder\": \"按 Enter 发送\"\n    },\n    domProps: {\n      \"value\": (_vm.content)\n    },\n    on: {\n      \"keyup\": _vm.onKeyup,\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.content = $event.target.value\n      }\n    }\n  })])\n},staticRenderFns: []}\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"card\"\n  }, [_c('header', [_c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"width\": \"40\",\n      \"height\": \"40\",\n      \"alt\": _vm.me.name,\n      \"src\": _vm.me.img\n    }\n  }), _vm._v(\" \"), _c('p', {\n    staticClass: \"name\"\n  }, [_vm._v(_vm._s(_vm.me.loginName))])]), _vm._v(\" \"), _c('footer', [_c('input', {\n    staticClass: \"search\",\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"search user...\"\n    },\n    on: {\n      \"keyup\": _vm.onKeyup\n    }\n  })])])\n},staticRenderFns: []}\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"loginPanel\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"loginForm\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showLoginForm),\n      expression: \"showLoginForm\"\n    }],\n    staticClass: \"login\"\n  }, [_c('p', [_c('span', {\n    staticClass: \"soul-label\"\n  }, [_vm._v(\"\\n        账号:\\n        \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.user.loginName),\n      expression: \"user.loginName\"\n    }],\n    staticClass: \"soul-input\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.user.loginName)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.user.loginName = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', {\n    staticClass: \"soul-label\"\n  }, [_vm._v(\"\\n         密码:\\n        \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.user.password),\n      expression: \"user.password\"\n    }],\n    staticClass: \"soul-input\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.user.password)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.user.password = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"loginButtonPanel\"\n  }, [_c('a', {\n    staticClass: \"toggle\",\n    on: {\n      \"click\": _vm.toggleLogin\n    }\n  }, [_vm._v(\"还没注册？\")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"soul-button\",\n    on: {\n      \"click\": _vm.denglu\n    }\n  }, [_vm._v(\"登录\")])])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.showLoginForm),\n      expression: \"!showLoginForm\"\n    }],\n    staticClass: \"register\"\n  }, [_c('p', [_c('span', {\n    staticClass: \"soul-label\"\n  }, [_vm._v(\"\\n        账号:\\n        \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.user.loginName),\n      expression: \"user.loginName\"\n    }],\n    staticClass: \"soul-input\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.user.loginName)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.user.loginName = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', {\n    staticClass: \"soul-label\"\n  }, [_vm._v(\"\\n         密码:\\n        \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.user.password),\n      expression: \"user.password\"\n    }],\n    staticClass: \"soul-input\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.user.password)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.user.password = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', {\n    staticClass: \"soul-label\"\n  }, [_vm._v(\"\\n         确认密码:\\n        \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.user.confirmPassword),\n      expression: \"user.confirmPassword\"\n    }],\n    staticClass: \"soul-input\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.user.confirmPassword)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.user.confirmPassword = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', {\n    staticClass: \"soul-label\"\n  }, [_vm._v(\"\\n         注册秘钥:\\n        \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.user.registerCode),\n      expression: \"user.registerCode\"\n    }],\n    staticClass: \"soul-input\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.user.registerCode)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.user.registerCode = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"loginButtonPanel\"\n  }, [_c('a', {\n    staticClass: \"toggle\",\n    on: {\n      \"click\": _vm.toggleLogin\n    }\n  }, [_vm._v(\"已经注册？\")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"soul-button\",\n    on: {\n      \"click\": _vm.zhuce\n    }\n  }, [_vm._v(\"注册\")])])])])])\n},staticRenderFns: []}\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_vm._v(\"\\n  当前登录用户\\n  \"), _c('ul', _vm._l((_vm.onlineUsers), function(item) {\n    return _c('li', [_c('img', {\n      staticStyle: {\n        \"width\": \"20px\",\n        \"height\": \"20px\",\n        \"display\": \"inline-block\",\n        \"vertical-align\": \"middle\"\n      },\n      attrs: {\n        \"src\": item.img\n      }\n    }), _vm._v(\" \"), _c('a', {\n      attrs: {\n        \"href\": \"#\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.setCurrentSession(item)\n        }\n      }\n    }, [_vm._v(_vm._s(item.loginName))]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(item.notReadMsgCount))])])\n  }))])\n},staticRenderFns: []}\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"list\"\n  }, [_c('ul', _vm._l((_vm.sessions), function(item, index) {\n    return _c('li', {\n      class: {\n        active: _vm.currentSession ? item.loginName === _vm.currentSession.loginName : index == 0\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.setCurrentSession(item)\n        }\n      }\n    }, [_c('img', {\n      staticClass: \"avatar\",\n      attrs: {\n        \"width\": \"30\",\n        \"height\": \"30\",\n        \"alt\": item.loginName,\n        \"src\": item.img\n      }\n    }), _vm._v(\" \"), _c('p', {\n      staticClass: \"name\"\n    }, [_vm._v(_vm._s(_vm._f(\"truncateStr\")(item.loginName)))])])\n  }))])\n},staticRenderFns: []}\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.me) ? _c('div', {\n    staticClass: \"view\"\n  }, [_c('div', {\n    staticClass: \"sidebar\"\n  }, [_c('card'), _vm._v(\" \"), _c('list')], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"main\"\n  }, [_c('message'), _vm._v(\" \"), _c('TextBox')], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"userListPanel\"\n  }, [_c('userListPanel')], 1)]) : _c('div', {\n    staticClass: \"view\"\n  }, [_c('loginPanel')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 66 */,\n/* 67 */,\n/* 68 */,\n/* 69 */,\n/* 70 */,\n/* 71 */,\n/* 72 */,\n/* 73 */,\n/* 74 */,\n/* 75 */,\n/* 76 */,\n/* 77 */,\n/* 78 */,\n/* 79 */,\n/* 80 */,\n/* 81 */,\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */,\n/* 91 */,\n/* 92 */,\n/* 93 */,\n/* 94 */,\n/* 95 */,\n/* 96 */,\n/* 97 */,\n/* 98 */,\n/* 99 */,\n/* 100 */,\n/* 101 */,\n/* 102 */,\n/* 103 */,\n/* 104 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_card__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_card___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_card__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_list__ = __webpack_require__(47);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_list___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_list__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_textBox__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_textBox___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__components_textBox__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_message__ = __webpack_require__(49);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_message___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__components_message__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_loginPanel_vue__ = __webpack_require__(48);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_loginPanel_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__components_loginPanel_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_userListPanel_vue__ = __webpack_require__(51);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_userListPanel_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__components_userListPanel_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__js_store__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_vuex__ = __webpack_require__(0);\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  components: { Card: __WEBPACK_IMPORTED_MODULE_1__components_card___default.a, List: __WEBPACK_IMPORTED_MODULE_2__components_list___default.a, TextBox: __WEBPACK_IMPORTED_MODULE_3__components_textBox___default.a, Message: __WEBPACK_IMPORTED_MODULE_4__components_message___default.a, loginPanel: __WEBPACK_IMPORTED_MODULE_5__components_loginPanel_vue___default.a, userListPanel: __WEBPACK_IMPORTED_MODULE_6__components_userListPanel_vue___default.a },\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_vuex__[\"b\" /* mapGetters */])(['me'])),\n  mounted: function mounted() {\n    window.onunload = function () {\n      __WEBPACK_IMPORTED_MODULE_7__js_store__[\"a\" /* default */].state.client.disconnect();\n    };\n  }\n});\n\n/***/ }),\n/* 105 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(0);\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"b\" /* mapGetters */])(['me'])),\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"c\" /* mapMutations */])(['setFilterKey']), {\n    onKeyup: function onKeyup(e) {\n      this.setFilterKey(e.target.value);\n    }\n  })\n});\n\n/***/ }),\n/* 106 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(0);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"b\" /* mapGetters */])(['sessions', 'currentSession'])),\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"c\" /* mapMutations */])(['setCurrentSession'])),\n  filters: {\n    truncateStr: function truncateStr(value) {\n      if (value) {\n        return value.substring(0, 10);\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 107 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__js_util__ = __webpack_require__(32);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      showLoginForm: true,\n      user: {\n        loginName: '',\n        password: '',\n        confirmPassword: '',\n        registerCode: ''\n      }\n    };\n  },\n\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"d\" /* mapActions */])(['login', 'register']), {\n    denglu: function denglu() {\n      if (!this.user.loginName) {\n        alert('用户名不能为空');\n        return;\n      }\n      if (!this.user.password) {\n        alert('密码不能为空');\n        return;\n      }\n      this.login(this.user);\n    },\n    zhuce: function zhuce() {\n      if (!this.user.loginName) {\n        alert('用户名不能为空');\n        return;\n      }\n      if (!this.user.password) {\n        alert('密码不能为空');\n        return;\n      }\n      if (!this.user.password) {\n        alert('确认密码不能为空');\n        return;\n      }\n      if (this.user.password !== this.user.password) {\n        alert('两次输入密码不一致');\n        return;\n      }\n      this.register(this.user);\n    },\n    toggleLogin: function toggleLogin() {\n      this.showLoginForm = !this.showLoginForm;\n    }\n  }),\n  mounted: function mounted() {\n    var credential = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__js_util__[\"e\" /* cache */])('credential');\n    if (!credential) {\n      return;\n    }\n    if (credential.autoLogin) {\n      this.$store.dispatch('login', credential);\n    } else {\n      this.user.loginName = credential.loginName;\n      this.user.password = credential.password;\n    }\n  }\n});\n\n/***/ }),\n/* 108 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(0);\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"b\" /* mapGetters */])(['me', 'currentSession'])),\n  filters: {\n    time: function time(date) {\n      if (typeof date === 'string') {\n        date = new Date(date);\n      }\n      return date.getHours() + ':' + date.getMinutes();\n    },\n    readFilter: function readFilter(alreadyRead) {\n      return alreadyRead ? '已读' : '未读';\n    }\n  },\n  directives: {\n    'scroll-bottom': {\n      componentUpdated: function componentUpdated(el) {\n        el.scrollTop = el.scrollHeight - el.clientHeight;\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 109 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(0);\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"b\" /* mapGetters */])(['currentSession'])),\n  data: function data() {\n    return {\n      content: ''\n    };\n  },\n\n  methods: {\n    onKeyup: function onKeyup(e) {\n      if (e.keyCode === 13 && this.content.length) {\n        this.$store.dispatch('sendMsg', this.content);\n        this.content = '';\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 110 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(0);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"b\" /* mapGetters */])(['onlineUsers'])),\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"c\" /* mapMutations */])(['setCurrentSession']))\n});\n\n/***/ }),\n/* 111 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = ChatClient;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__store__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util__ = __webpack_require__(32);\n\n\n\nfunction registerEvent() {\n  this.socket.on(\"register\", callBack);\n  this.socket.on(\"login\", callBack);\n  this.socket.on('receiveMsg', onReceiveMsg);\n  this.socket.on('disconnect', onDisconnect);\n  this.socket.on('notifyUserLogin', onNotifyUserLogin);\n  this.socket.on('kickOff', onKickOff);\n  this.socket.on('receiveRead', onReceiveRead);\n}\n\nChatClient.prototype.on = function (event, callback) {\n  this.events[event] = callback;\n  return this;\n};\n\nChatClient.prototype.connect = function (data) {\n  if (!(\"io\" in window)) {\n    alert('浏览器不支持socket.io');\n    return false;\n  }\n  var connectUrl = 'http://' + this.host + ':' + this.port;\n  this.socket = io.connect(connectUrl);\n  registerEvent.call(this);\n  return true;\n};\n\nfunction ChatClient(_ref) {\n  var host = _ref.host,\n      port = _ref.port;\n\n\n  this.host = host;\n  this.port = port;\n  this.socket = null;\n  this.events = [];\n\n  this.register = function (param) {\n    this.socket.emit(\"register\", param);\n  };\n\n  this.login = function (param) {\n    this.socket.emit(\"login\", param);\n  };\n\n  this.sendMsg = function (param) {\n    this.socket.emit('sendMsg', param);\n  };\n\n  this.read = function (param) {\n    this.socket.emit('read', param);\n  };\n}\n\nfunction callBack(_ref2) {\n  var code = _ref2.code,\n      rMsg = _ref2.rMsg,\n      rData = _ref2.rData;\n\n  if (code === 1) {\n    __WEBPACK_IMPORTED_MODULE_0__store__[\"a\" /* default */].commit('initUsers', rData);\n    __WEBPACK_IMPORTED_MODULE_0__store__[\"a\" /* default */].commit('initSessions', rData.sessions);\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__[\"e\" /* cache */])('credential', rData);\n  } else {\n    alert(rMsg);\n  }\n}\n\nfunction onReceiveRead(message) {\n  var currentSession = __WEBPACK_IMPORTED_MODULE_0__store__[\"a\" /* default */].state.currentSession;\n\n  if (currentSession && currentSession.loginName === message.to) {\n    var session = {};\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__[\"c\" /* copyProperties */])(session, currentSession);\n    session.messages.find(function (msg) {\n      return msg.id === message.id;\n    }).read = true;\n    return __WEBPACK_IMPORTED_MODULE_0__store__[\"a\" /* default */].state.currentSession = session;\n  }\n}\n\nfunction onReceiveMsg(message) {\n  var exitSession = void 0,\n      sessions = __WEBPACK_IMPORTED_MODULE_0__store__[\"a\" /* default */].state.sessions,\n      currentSession = __WEBPACK_IMPORTED_MODULE_0__store__[\"a\" /* default */].state.currentSession;\n\n  if (currentSession && currentSession.loginName === message.from) {\n    var session = {};\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__[\"c\" /* copyProperties */])(session, currentSession);\n    session.messages.push(message);\n    __WEBPACK_IMPORTED_MODULE_0__store__[\"a\" /* default */].state.currentSession = session;\n    return __WEBPACK_IMPORTED_MODULE_0__store__[\"a\" /* default */].state.client.read(message);\n  }\n\n  var userFrom = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__[\"b\" /* findUser */])(message.from);\n\n  if (!(exitSession = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__[\"a\" /* findSession */])(message.from))) {\n    exitSession = {\n      loginName: message.from,\n      img: userFrom.img,\n      messages: [message]\n    };\n    sessions.push(exitSession);\n  } else {\n    exitSession.messages.push(message);\n  }\n}\n\nfunction onDisconnect(loginName) {\n  __WEBPACK_IMPORTED_MODULE_0__store__[\"a\" /* default */].state.users = __WEBPACK_IMPORTED_MODULE_0__store__[\"a\" /* default */].state.users.filter(function (item) {\n    return item.loginName !== loginName;\n  });\n}\n\nfunction onNotifyUserLogin(onlineUser) {\n  __WEBPACK_IMPORTED_MODULE_0__store__[\"a\" /* default */].commit('refreshUser', onlineUser);\n}\n\nfunction onKickOff(_ref3) {\n  var rData = _ref3.rData;\n\n  __WEBPACK_IMPORTED_MODULE_0__store__[\"a\" /* default */].commit('logout');\n  alert(rData);\n}\n\n/***/ }),\n/* 112 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_vue__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__app_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__js_store__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__css_reset_css__ = __webpack_require__(45);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__css_reset_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__css_reset_css__);\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.devtools = true;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__app_vue___default.a },\n  store: __WEBPACK_IMPORTED_MODULE_2__js_store__[\"a\" /* default */]\n});\n\n/***/ })\n],[112]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.f41dd067cf9a5c6d35a7.js","/**\n * Vuex\n * http://vuex.vuejs.org/zh-cn/intro.html\n */\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport {\n  ChatClient\n} from './client'\nimport {\n  findSession,\n  findUser,\n  copyProperties,\n  guid\n} from './util'\nVue.use(Vuex);\n\nfunction connect(state) {\n  state.client = new ChatClient({host: location.origin, port: 6443})\n  if (!state.client.connect()) {\n    alert('连接失败')\n  }\n}\n\nconst store = new Vuex.Store({\n  state: {\n    client: null,//socket 客户端\n    users: [],//用户列表\n    me: null, // 我的id（登录人id）\n    sessions: [],// 会话列表\n    currentSession: null,//当前聊天窗口id\n    filterKey: '' //搜索用户的所搜词\n  },\n  getters: {\n    client: ({client}) => client,\n    users: ({users}) => users,\n    onlineUsers: ({users, myLoginName}) => users.filter(user => user.loginName !== myLoginName),\n    me: ({me}) => me,\n    myLoginName: ({myLoginName}) => myLoginName,\n    sessions: ({sessions, filterKey}) => sessions && sessions.filter(session => !filterKey || session.loginName.toUpperCase().includes(filterKey.toUpperCase())),\n    currentSession: ({currentSession}) => currentSession\n  },\n  mutations: {\n    //初始化会话记录\n    initSessions(state, sessions){\n      state.sessions = sessions\n    },\n    //设置当前会话\n    setCurrentSession (state, session) {\n      if (!session.messages) session.messages = []\n      var exitSession = findSession(session.loginName)\n      if (exitSession) {\n        state.currentSession = exitSession\n      } else {\n        exitSession = session\n        state.currentSession = session //sessions包含currentSession的引用\n        state.sessions.push(session)\n      }\n\n      exitSession.messages.forEach(msg => {\n        if(state.me.loginName === msg.to){\n          //自己是收消息的人\n          state.client.read(msg)\n        }\n      })\n    },\n    //初始化用户列表\n    initUsers(state, user){\n      state.me = user\n      state.users = user.onlineUsers\n    },\n    //更新用户列表中用户的信息\n    refreshUser(state, user){\n      var oldUser\n      if ((oldUser = findUser(user.loginName))) {\n        //用户已经在用户列表,更新用户信息\n        copyProperties(oldUser, user)\n        return state.users[state.users.indexOf(oldUser)] = user\n      }\n      //将用户加入列表\n      state.users.push(user)\n    },\n    setFilterKey: (state, value) => state.filterKey = value,\n    logout: (state) => state.me = null\n  },\n  actions: {\n    register({state}, payload){\n      connect(state)\n      state.client.register(payload)\n    },\n    login({state}, payload) {\n      connect(state)\n      state.client.login(payload)\n    },\n    sendMsg ({state}, content) {\n      var msgId = guid(),\n        message = {\n          id: msgId,\n          from: state.me.loginName,\n          to: state.currentSession.loginName,\n          content,\n          self: true,\n          read: false,\n          date: new Date()\n        }\n\n      var session = {}\n      copyProperties(session, state.currentSession)\n      session.messages.push(message)\n      state.currentSession = session\n      //往当前窗口写消息\n\n      state.client.sendMsg({\n        id: msgId,\n        'from': state.me.loginName,\n        'to': state.currentSession.loginName,\n        content\n      })\n    }\n  }\n});\nexport default store\n\n\n\n// WEBPACK FOOTER //\n// ./src/frontend/js/store.js","import store from './store'\r\n\r\nfunction findSession(loginName) {\r\n  let sessions = store.getters.sessions\r\n  for (let i = 0; i < sessions.length; i++) {\r\n    if (sessions[i].loginName === loginName) {\r\n      return sessions[i]\r\n    }\r\n  }\r\n}\r\n\r\nfunction findUser(loginName) {\r\n  let users = store.getters.users\r\n  for (let i = 0; i < users.length; i++) {\r\n    if (users[i].loginName === loginName) {\r\n      return users[i]\r\n    }\r\n  }\r\n}\r\n\r\nfunction copyProperties(target, source) {\r\n  if (!target || !source) {\r\n    return console.error('target and source must not be null')\r\n  }\r\n  for (let key in source) {\r\n    target[key] = source[key]\r\n  }\r\n}\r\n\r\nfunction cache(key, value) {\r\n  if (!value) {\r\n    let valueStr = window.localStorage.getItem(key)\r\n    return valueStr\r\n      ? JSON.parse(valueStr)\r\n      : null\r\n  }\r\n\r\n  if (typeof value === 'object') {\r\n    value = JSON.stringify(value)\r\n  }\r\n  window.localStorage.setItem(key, value)\r\n}\r\n\r\nlet response = {\r\n  ok: function (data) {\r\n    this.code = 1\r\n    this.rData = data\r\n    return this\r\n  },\r\n  fail: function (msg) {\r\n    this.code = 0\r\n    this.rMsg = msg\r\n    return this\r\n  }\r\n}\r\n\r\nfunction guid() {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n    var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\r\n    return v.toString(16);\r\n  });\r\n}\r\n\r\nexport {\r\n  findSession,\r\n  findUser,\r\n  copyProperties,\r\n  cache,\r\n  response,\r\n  guid\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/frontend/js/util.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/.2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b822579a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/.12.2.2@vue-loader/lib/selector?type=styles&index=0!./app.vue\")\n}\nvar Component = require(\"!../../node_modules/.12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/.12.2.2@vue-loader/lib/selector?type=script&index=0!./app.vue\"),\n  /* template */\n  require(\"!!../../node_modules/.12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b822579a\\\",\\\"hasScoped\\\":true}!../../node_modules/.12.2.2@vue-loader/lib/selector?type=template&index=0!./app.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-b822579a\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/frontend/app.vue\n// module id = 44\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-59b0957b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=styles&index=0!./card.vue\")\n}\nvar Component = require(\"!../../../node_modules/.12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=script&index=0!./card.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-59b0957b\\\",\\\"hasScoped\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=template&index=0!./card.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-59b0957b\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/frontend/components/card.vue\n// module id = 46\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ab3957ee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar Component = require(\"!../../../node_modules/.12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=script&index=0!./list.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ab3957ee\\\",\\\"hasScoped\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=template&index=0!./list.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-ab3957ee\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/frontend/components/list.vue\n// module id = 47\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5ca4d274\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=styles&index=0!./loginPanel.vue\")\n}\nvar Component = require(\"!../../../node_modules/.12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=script&index=0!./loginPanel.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5ca4d274\\\",\\\"hasScoped\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=template&index=0!./loginPanel.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-5ca4d274\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/frontend/components/loginPanel.vue\n// module id = 48\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-081a726c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=styles&index=0!./message.vue\")\n}\nvar Component = require(\"!../../../node_modules/.12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=script&index=0!./message.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-081a726c\\\",\\\"hasScoped\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=template&index=0!./message.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-081a726c\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/frontend/components/message.vue\n// module id = 49\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e640443\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=styles&index=0!./textBox.vue\")\n}\nvar Component = require(\"!../../../node_modules/.12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=script&index=0!./textBox.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e640443\\\",\\\"hasScoped\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=template&index=0!./textBox.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-0e640443\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/frontend/components/textBox.vue\n// module id = 50\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5d03e1c0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=styles&index=0!./userListPanel.vue\")\n}\nvar Component = require(\"!../../../node_modules/.12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=script&index=0!./userListPanel.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5d03e1c0\\\",\\\"hasScoped\\\":true}!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=template&index=0!./userListPanel.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-5d03e1c0\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/frontend/components/userListPanel.vue\n// module id = 51\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"scroll-bottom\",\n      rawName: \"v-scroll-bottom\"\n    }],\n    staticClass: \"message\"\n  }, [(_vm.currentSession) ? _c('ul', _vm._l((_vm.currentSession.messages), function(item) {\n    return _c('li', [_c('p', {\n      staticClass: \"time\"\n    }, [_c('span', [_vm._v(_vm._s(_vm._f(\"time\")(item.date)))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"main\",\n      class: {\n        self: item.self\n      }\n    }, [_c('img', {\n      staticClass: \"avatar\",\n      attrs: {\n        \"width\": \"30\",\n        \"height\": \"30\",\n        \"src\": item.self ? _vm.me.img : _vm.currentSession.img\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"text\"\n    }, [_vm._v(_vm._s(item.content))]), _vm._v(\" \"), (item.self) ? _c('div', {\n      staticClass: \"read-text\"\n    }, [_vm._v(_vm._s(_vm._f(\"readFilter\")(item.read)) + \" \")]) : _vm._e()])])\n  })) : _vm._e()])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-081a726c\",\"hasScoped\":true}!./~/.12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/frontend/components/message.vue\n// module id = 52\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"text\"\n  }, [_c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.content),\n      expression: \"content\"\n    }],\n    attrs: {\n      \"disabled\": !_vm.currentSession,\n      \"placeholder\": \"按 Enter 发送\"\n    },\n    domProps: {\n      \"value\": (_vm.content)\n    },\n    on: {\n      \"keyup\": _vm.onKeyup,\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.content = $event.target.value\n      }\n    }\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-0e640443\",\"hasScoped\":true}!./~/.12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/frontend/components/textBox.vue\n// module id = 53\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"card\"\n  }, [_c('header', [_c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"width\": \"40\",\n      \"height\": \"40\",\n      \"alt\": _vm.me.name,\n      \"src\": _vm.me.img\n    }\n  }), _vm._v(\" \"), _c('p', {\n    staticClass: \"name\"\n  }, [_vm._v(_vm._s(_vm.me.loginName))])]), _vm._v(\" \"), _c('footer', [_c('input', {\n    staticClass: \"search\",\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"search user...\"\n    },\n    on: {\n      \"keyup\": _vm.onKeyup\n    }\n  })])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-59b0957b\",\"hasScoped\":true}!./~/.12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/frontend/components/card.vue\n// module id = 54\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"loginPanel\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"loginForm\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showLoginForm),\n      expression: \"showLoginForm\"\n    }],\n    staticClass: \"login\"\n  }, [_c('p', [_c('span', {\n    staticClass: \"soul-label\"\n  }, [_vm._v(\"\\n        账号:\\n        \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.user.loginName),\n      expression: \"user.loginName\"\n    }],\n    staticClass: \"soul-input\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.user.loginName)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.user.loginName = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', {\n    staticClass: \"soul-label\"\n  }, [_vm._v(\"\\n         密码:\\n        \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.user.password),\n      expression: \"user.password\"\n    }],\n    staticClass: \"soul-input\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.user.password)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.user.password = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"loginButtonPanel\"\n  }, [_c('a', {\n    staticClass: \"toggle\",\n    on: {\n      \"click\": _vm.toggleLogin\n    }\n  }, [_vm._v(\"还没注册？\")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"soul-button\",\n    on: {\n      \"click\": _vm.denglu\n    }\n  }, [_vm._v(\"登录\")])])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.showLoginForm),\n      expression: \"!showLoginForm\"\n    }],\n    staticClass: \"register\"\n  }, [_c('p', [_c('span', {\n    staticClass: \"soul-label\"\n  }, [_vm._v(\"\\n        账号:\\n        \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.user.loginName),\n      expression: \"user.loginName\"\n    }],\n    staticClass: \"soul-input\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.user.loginName)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.user.loginName = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', {\n    staticClass: \"soul-label\"\n  }, [_vm._v(\"\\n         密码:\\n        \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.user.password),\n      expression: \"user.password\"\n    }],\n    staticClass: \"soul-input\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.user.password)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.user.password = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', {\n    staticClass: \"soul-label\"\n  }, [_vm._v(\"\\n         确认密码:\\n        \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.user.confirmPassword),\n      expression: \"user.confirmPassword\"\n    }],\n    staticClass: \"soul-input\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.user.confirmPassword)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.user.confirmPassword = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('span', {\n    staticClass: \"soul-label\"\n  }, [_vm._v(\"\\n         注册秘钥:\\n        \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.user.registerCode),\n      expression: \"user.registerCode\"\n    }],\n    staticClass: \"soul-input\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.user.registerCode)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.user.registerCode = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"loginButtonPanel\"\n  }, [_c('a', {\n    staticClass: \"toggle\",\n    on: {\n      \"click\": _vm.toggleLogin\n    }\n  }, [_vm._v(\"已经注册？\")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"soul-button\",\n    on: {\n      \"click\": _vm.zhuce\n    }\n  }, [_vm._v(\"注册\")])])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-5ca4d274\",\"hasScoped\":true}!./~/.12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/frontend/components/loginPanel.vue\n// module id = 55\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_vm._v(\"\\n  当前登录用户\\n  \"), _c('ul', _vm._l((_vm.onlineUsers), function(item) {\n    return _c('li', [_c('img', {\n      staticStyle: {\n        \"width\": \"20px\",\n        \"height\": \"20px\",\n        \"display\": \"inline-block\",\n        \"vertical-align\": \"middle\"\n      },\n      attrs: {\n        \"src\": item.img\n      }\n    }), _vm._v(\" \"), _c('a', {\n      attrs: {\n        \"href\": \"#\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.setCurrentSession(item)\n        }\n      }\n    }, [_vm._v(_vm._s(item.loginName))]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(item.notReadMsgCount))])])\n  }))])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-5d03e1c0\",\"hasScoped\":true}!./~/.12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/frontend/components/userListPanel.vue\n// module id = 56\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"list\"\n  }, [_c('ul', _vm._l((_vm.sessions), function(item, index) {\n    return _c('li', {\n      class: {\n        active: _vm.currentSession ? item.loginName === _vm.currentSession.loginName : index == 0\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.setCurrentSession(item)\n        }\n      }\n    }, [_c('img', {\n      staticClass: \"avatar\",\n      attrs: {\n        \"width\": \"30\",\n        \"height\": \"30\",\n        \"alt\": item.loginName,\n        \"src\": item.img\n      }\n    }), _vm._v(\" \"), _c('p', {\n      staticClass: \"name\"\n    }, [_vm._v(_vm._s(_vm._f(\"truncateStr\")(item.loginName)))])])\n  }))])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-ab3957ee\",\"hasScoped\":true}!./~/.12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/frontend/components/list.vue\n// module id = 57\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.me) ? _c('div', {\n    staticClass: \"view\"\n  }, [_c('div', {\n    staticClass: \"sidebar\"\n  }, [_c('card'), _vm._v(\" \"), _c('list')], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"main\"\n  }, [_c('message'), _vm._v(\" \"), _c('TextBox')], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"userListPanel\"\n  }, [_c('userListPanel')], 1)]) : _c('div', {\n    staticClass: \"view\"\n  }, [_c('loginPanel')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-b822579a\",\"hasScoped\":true}!./~/.12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/frontend/app.vue\n// module id = 58\n// module chunks = 1","<script>\r\n  import Card from './components/card';\r\n  import List from './components/list';\r\n  import TextBox from './components/textBox';\r\n  import Message from './components/message';\r\n  import loginPanel from './components/loginPanel.vue';\r\n  import userListPanel from './components/userListPanel.vue';\r\n  import store from './js/store'\r\n  import {\r\n    mapGetters,\r\n    mapActions\r\n  } from 'vuex'\r\n  export default {\r\n    components: {Card, List, TextBox, Message, loginPanel, userListPanel},\r\n    computed: {\r\n      ...mapGetters(['me'])\r\n    },\r\n    mounted(){\r\n      window.onunload = function() {\r\n        store.state.client.disconnect()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<template>\r\n  <div class=\"view\" v-if=\"me\">\r\n    <div class=\"sidebar\">\r\n      <card></card>\r\n      <list></list>\r\n    </div>\r\n    <div class=\"main\">\r\n      <message></message>\r\n      <TextBox></TextBox>\r\n    </div>\r\n    <div class=\"userListPanel\">\r\n      <userListPanel></userListPanel>\r\n    </div>\r\n  </div>\r\n  <div class=\"view\" v-else>\r\n    <loginPanel></loginPanel>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"less\" scoped>\r\n  .view {\r\n    margin: 0 auto;\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    overflow: hidden;\r\n    border-radius: 3px;\r\n\r\n    .sidebar, .main {\r\n      height: 100%;\r\n    }\r\n    .sidebar {\r\n      float: left;\r\n      width: 25%;\r\n      color: #f4f4f4;\r\n      background-color: #2e3238;\r\n    }\r\n    .main {\r\n      width: 75%;\r\n      position: relative;\r\n      overflow: hidden;\r\n      background-color: #eee;\r\n    }\r\n    .text {\r\n      position: absolute;\r\n      width: 100%;\r\n      bottom: 0;\r\n      left: 0;\r\n    }\r\n    .message {\r\n      height: ~'calc(100% - 160px)';\r\n    }\r\n  }\r\n\r\n  .userListPanel {\r\n    position: fixed;\r\n    top: 20px;\r\n    right: 100px;\r\n    width: 100px;\r\n    background-color: white;\r\n  }\r\n\r\n  @media screen and (min-width: 1200px) {\r\n    .view{\r\n      width: 900px;\r\n      height: 100%;\r\n    }\r\n    .loginPanel{\r\n      width: 900px;\r\n      height: 100%;\r\n      margin: 0 auto;\r\n    }\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// app.vue?0f188280","<script>\r\n  import {mapGetters, mapMutations} from \"vuex\";\r\n  export default {\r\n    computed: {\r\n      ...mapGetters([\r\n        'me'\r\n      ])\r\n    },\r\n    methods: {\r\n      ...mapMutations(['setFilterKey']),\r\n      onKeyup (e) {\r\n        this.setFilterKey(e.target.value);\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<template>\r\n  <div class=\"card\">\r\n    <header>\r\n      <img class=\"avatar\" width=\"40\" height=\"40\" :alt=\"me.name\" :src=\"me.img\">\r\n      <p class=\"name\">{{me.loginName}}</p>\r\n    </header>\r\n    <footer>\r\n      <input class=\"search\" type=\"text\" placeholder=\"search user...\" @keyup=\"onKeyup\">\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"less\">\r\n  .card {\r\n    padding: 12px;\r\n    border-bottom: solid 1px #24272C;\r\n\r\n    footer {\r\n      margin-top: 10px;\r\n    }\r\n\r\n    .avatar, .name {\r\n      vertical-align: middle;\r\n    }\r\n    .avatar {\r\n      border-radius: 2px;\r\n    }\r\n    .name {\r\n      display: inline-block;\r\n      margin: 0 0 0 15px;\r\n      font-size: 16px;\r\n    }\r\n    .search {\r\n      padding: 0 10px;\r\n      width: 100%;\r\n      font-size: 12px;\r\n      color: #fff;\r\n      height: 30px;\r\n      line-height: 30px;\r\n      border: solid 1px #3a3a3a;\r\n      border-radius: 4px;\r\n      outline: none;\r\n      background-color: #26292E;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// card.vue?4f7b7492","<script>\r\n  import {mapGetters} from \"vuex\";\r\n  import {mapMutations} from \"vuex\";\r\n  export default {\r\n    computed: {\r\n      ...mapGetters([\r\n        'sessions',\r\n        'currentSession'\r\n      ])\r\n    },\r\n    methods: {\r\n      ...mapMutations([\r\n          'setCurrentSession'\r\n      ])\r\n    },\r\n    filters:{\r\n      truncateStr(value){\r\n          if(value){\r\n              return value.substring(0,10)\r\n          }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<template>\r\n  <div class=\"list\">\r\n    <ul>\r\n      <li v-for=\"(item, index) in sessions\"\r\n          :class=\"{ active: currentSession ? item.loginName === currentSession.loginName : index == 0}\"\r\n          @click=\"setCurrentSession(item)\">\r\n        <img class=\"avatar\" width=\"30\" height=\"30\" :alt=\"item.loginName\" :src=\"item.img\">\r\n        <p class=\"name\">{{item.loginName | truncateStr}}</p>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"less\">\r\n  .list {\r\n    li {\r\n      padding: 12px 15px;\r\n      border-bottom: 1px solid #292C33;\r\n      cursor: pointer;\r\n      transition: background-color .1s;\r\n\r\n      &:hover {\r\n        background-color: rgba(255, 255, 255, 0.03);\r\n      }\r\n      &.active {\r\n        background-color: rgba(255, 255, 255, 0.5);\r\n      }\r\n    }\r\n    .avatar, .name {\r\n      vertical-align: middle;\r\n    }\r\n    .avatar {\r\n      display: block;\r\n      border-radius: 2px;\r\n    }\r\n    .name {\r\n      display: block;\r\n      margin: 0 0 0 15px;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// list.vue?0cd4f7c5","<script>\r\n  import {\r\n    mapGetters,\r\n    mapActions\r\n  } from 'vuex'\r\n  import{\r\n    cache\r\n  }from '../js/util'\r\n  export default{\r\n    data(){\r\n      return {\r\n        showLoginForm: true,\r\n        user: {\r\n          loginName: '',\r\n          password: '',\r\n          confirmPassword: '',\r\n          registerCode: ''\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions(['login', 'register']),\r\n      denglu () {\r\n        if (!this.user.loginName) {\r\n          alert('用户名不能为空')\r\n          return\r\n        }\r\n        if (!this.user.password) {\r\n          alert('密码不能为空')\r\n          return\r\n        }\r\n        this.login(this.user);\r\n      },\r\n      zhuce(){\r\n        if (!this.user.loginName) {\r\n          alert('用户名不能为空')\r\n          return\r\n        }\r\n        if (!this.user.password) {\r\n          alert('密码不能为空')\r\n          return\r\n        }\r\n        if (!this.user.password) {\r\n          alert('确认密码不能为空')\r\n          return\r\n        }\r\n        if (this.user.password !== this.user.password) {\r\n          alert('两次输入密码不一致')\r\n          return\r\n        }\r\n        this.register(this.user);\r\n      },\r\n      toggleLogin(){\r\n        this.showLoginForm = !this.showLoginForm\r\n      }\r\n    },\r\n    mounted(){\r\n      var credential = cache('credential');\r\n      if (!credential) {\r\n        return\r\n      }\r\n      if (credential.autoLogin) {\r\n        this.$store.dispatch('login', credential)\r\n      } else {\r\n        this.user.loginName = credential.loginName\r\n        this.user.password = credential.password\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<template>\r\n  <div id=\"loginPanel\">\r\n    <div id=\"loginForm\">\r\n      <div class=\"login\" v-show=\"showLoginForm\">\r\n        <p>\r\n          <span class=\"soul-label\">\r\n          账号:\r\n          </span>\r\n          <input class=\"soul-input\" type=\"text\" v-model=\"user.loginName\"/>\r\n        </p>\r\n        <p>\r\n          <span class=\"soul-label\">\r\n           密码:\r\n          </span>\r\n          <input class=\"soul-input\" type=\"text\" v-model=\"user.password\"/>\r\n        </p>\r\n        <div class=\"loginButtonPanel\">\r\n          <a class=\"toggle\" @click=\"toggleLogin\">还没注册？</a>\r\n          <button class=\"soul-button\" @click=\"denglu\">登录</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"register\" v-show=\"!showLoginForm\">\r\n        <p>\r\n          <span class=\"soul-label\">\r\n          账号:\r\n          </span>\r\n          <input class=\"soul-input\" type=\"text\" v-model=\"user.loginName\"/>\r\n        </p>\r\n        <p>\r\n          <span class=\"soul-label\">\r\n           密码:\r\n          </span>\r\n          <input class=\"soul-input\" type=\"text\" v-model=\"user.password\"/>\r\n        </p>\r\n        <p>\r\n          <span class=\"soul-label\">\r\n           确认密码:\r\n          </span>\r\n          <input class=\"soul-input\" type=\"text\" v-model=\"user.confirmPassword\"/>\r\n        </p>\r\n        <p>\r\n          <span class=\"soul-label\">\r\n           注册秘钥:\r\n          </span>\r\n          <input class=\"soul-input\" type=\"text\" v-model=\"user.registerCode\"/>\r\n        </p>\r\n        <div class=\"loginButtonPanel\">\r\n          <a class=\"toggle\" @click=\"toggleLogin\">已经注册？</a>\r\n          <button class=\"soul-button\" @click=\"zhuce\">注册</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style lang=\"less\" scoped>\r\n  .soul-button {\r\n    margin-left:2%;;\r\n    font-weight: 400;\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    -ms-touch-action: manipulation;\r\n    touch-action: manipulation;\r\n    cursor: pointer;\r\n    white-space: nowrap;\r\n    line-height: 1.5;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    padding: 6px 15px;\r\n    font-size: 12px;\r\n    border-radius: 4px;\r\n    transition: color .2s linear, background-color .2s linear, border .2s linear;\r\n    color: #fff;\r\n    background: rgb(25, 190, 170) none;\r\n    border: 1px solid #19be6b;\r\n    &:hover {\r\n      color: #fff;\r\n      background: rgba(25, 190, 170, 0.8);\r\n      border-color: #19be6b;\r\n    }\r\n  }\r\n\r\n  #loginPanel {\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    -webkit-justify-content: center;\r\n    justify-content: center;\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 3px;\r\n    background-color: rgb(255, 255, 255);\r\n  }\r\n\r\n  #loginForm {\r\n    width: 80%;\r\n  }\r\n\r\n  .loginButtonPanel {\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-align-items: center;\r\n    align-items: center;\r\n    -webkit-justify-content: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  .toggle {\r\n    color: blue;\r\n    &:hover {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n\r\n  .soul-label {\r\n    width: 20%;\r\n    display: inline-block;\r\n    text-align: center;\r\n  }\r\n\r\n  .soul-input {\r\n    display: inline-block;\r\n    width: 76%;\r\n    height: 32px;\r\n    line-height: 1.5;\r\n    padding: 4px 7px;\r\n    font-size: 12px;\r\n    border: 1px solid #dddee1;\r\n    border-radius: 4px;\r\n    color: #495060;\r\n    background-color: #fff;\r\n    background-image: none;\r\n    position: relative;\r\n    cursor: text;\r\n    transition: border 1s ease-in-out, background 1s ease-in-out, box-shadow 1s ease-in-out;\r\n\r\n    &:hover {\r\n      -webkit-transition: border linear .2s, -webkit-box-shadow linear .5s;\r\n      border-color: rgba(141, 39, 142, .75);\r\n      -webkit-box-shadow: 0 0 18px rgba(111, 1, 32, 3);\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// loginPanel.vue?3fc66b17","<script>\r\n  import {mapGetters} from 'vuex'\r\n  export default {\r\n    computed: {\r\n      ...mapGetters(['me', 'currentSession'])\r\n    },\r\n    filters: {\r\n      // 将日期过滤为 hour:minutes\r\n      time (date) {\r\n        if (typeof date === 'string') {\r\n          date = new Date(date);\r\n        }\r\n        return date.getHours() + ':' + date.getMinutes();\r\n      },\r\n      readFilter(alreadyRead){\r\n        return alreadyRead\r\n          ? '已读'\r\n          : '未读'\r\n      }\r\n    },\r\n    directives: {\r\n      // 发送消息后滚动到底部\r\n      'scroll-bottom': {\r\n        componentUpdated(el){\r\n          el.scrollTop = el.scrollHeight - el.clientHeight;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<template>\r\n  <div class=\"message\" v-scroll-bottom>\r\n    <ul v-if=\"currentSession\">\r\n      <li v-for=\"item in currentSession.messages\">\r\n        <p class=\"time\">\r\n          <span>{{ item.date | time}}</span>\r\n        </p>\r\n        <div class=\"main\" :class=\"{ self: item.self }\">\r\n          <img class=\"avatar\" width=\"30\" height=\"30\" :src=\"item.self ? me.img : currentSession.img\"/>\r\n          <div class=\"text\">{{ item.content }}</div>\r\n          <div v-if=\"item.self\" class=\"read-text\">{{ item.read | readFilter}} </div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"less\" scoped>\r\n  .message {\r\n    padding: 10px 15px;\r\n    overflow-y: scroll;\r\n\r\n    li {\r\n      margin-bottom: 15px;\r\n    }\r\n    .time {\r\n      margin: 7px 0;\r\n      text-align: center;\r\n\r\n      > span {\r\n        display: inline-block;\r\n        padding: 0 18px;\r\n        font-size: 12px;\r\n        color: #fff;\r\n        border-radius: 2px;\r\n        background-color: #dcdcdc;\r\n      }\r\n    }\r\n    .avatar {\r\n      float: left;\r\n      margin: 0 10px 0 0;\r\n      border-radius: 3px;\r\n    }\r\n    .text {\r\n      vertical-align: middle;\r\n      display: inline-block;\r\n      position: relative;\r\n      padding: 0 10px;\r\n      max-width: ~'calc(100% - 40px)';\r\n      min-height: 30px;\r\n      line-height: 2.5;\r\n      font-size: 12px;\r\n      text-align: left;\r\n      word-break: break-all;\r\n      background-color: #fafafa;\r\n      border-radius: 4px;\r\n\r\n      &:before {\r\n        content: \" \";\r\n        position: absolute;\r\n        top: 9px;\r\n        right: 100%;\r\n        border: 6px solid transparent;\r\n        border-right-color: #fafafa;\r\n      }\r\n    }\r\n\r\n    .read-text {\r\n      vertical-align: bottom;\r\n      display: inline-block;\r\n      position: relative;\r\n      top:20px;\r\n      left: -5px;\r\n      padding: 0 10px;\r\n      max-width: ~'calc(100% - 40px)';\r\n      min-height: 30px;\r\n      line-height: 2;\r\n      font-size: 10px;\r\n      text-align: left;\r\n      word-break: break-all;\r\n      border-radius: 4px;\r\n    }\r\n\r\n    .self {\r\n      text-align: right;\r\n\r\n      .avatar {\r\n        float: right;\r\n        margin: 0 0 0 10px;\r\n      }\r\n      .text {\r\n        background-color: #b2e281;\r\n\r\n        &:before {\r\n          right: inherit;\r\n          left: 100%;\r\n          border-right-color: transparent;\r\n          border-left-color: #b2e281;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// message.vue?5627e5a2","<script>\r\n  import {mapGetters} from 'vuex'\r\n  export default {\r\n    computed: {\r\n      ...mapGetters(['currentSession'])\r\n    },\r\n    data(){\r\n      return {\r\n        content: ''\r\n      }\r\n    },\r\n    methods: {\r\n      onKeyup (e) {\r\n        if (e.keyCode === 13 && this.content.length) {\r\n          this.$store.dispatch('sendMsg', this.content);\r\n          this.content = '';\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<template>\r\n  <div class=\"text\">\r\n    <textarea :disabled=\"!currentSession\"\r\n              placeholder=\"按 Enter 发送\"\r\n              v-model=\"content\"\r\n              @keyup=\"onKeyup\">\r\n    </textarea>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"less\" scoped>\r\n  .text {\r\n    height: 160px;\r\n    border-top: solid 1px #ddd;\r\n\r\n    textarea {\r\n      padding: 10px;\r\n      height: 100%;\r\n      width: 100%;\r\n      border: none;\r\n      outline: none;\r\n      font-family: \"Micrsofot Yahei\";\r\n      resize: none;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// textBox.vue?2e7a9e37","<script>\r\n  import {mapGetters} from 'vuex'\r\n  import {mapMutations} from 'vuex'\r\n  export default{\r\n    computed: {\r\n      ...mapGetters(['onlineUsers'])\r\n    },\r\n    methods: {\r\n      ...mapMutations(['setCurrentSession'])\r\n    }\r\n  }\r\n</script>\r\n<template>\r\n  <div>\r\n    当前登录用户\r\n    <ul>\r\n      <li v-for=\"item in onlineUsers\">\r\n        <img style=\"width: 20px;height: 20px;display: inline-block;vertical-align: middle\" :src=\"item.img\"/>\r\n        <a @click=\"setCurrentSession(item)\" href=\"#\">{{item.loginName}}</a>\r\n        <span>{{item.notReadMsgCount}}</span>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// userListPanel.vue?d4161dd0","import store from './store'\r\nimport {\r\n  findSession,\r\n  findUser,\r\n  cache,\r\n  copyProperties\r\n} from './util'\r\n\r\n//注册事件\r\nfunction registerEvent() {\r\n  this.socket.on(\"register\", callBack)\r\n  this.socket.on(\"login\", callBack)\r\n  this.socket.on('receiveMsg', onReceiveMsg)\r\n  this.socket.on('disconnect', onDisconnect)\r\n  this.socket.on('notifyUserLogin', onNotifyUserLogin)\r\n  this.socket.on('kickOff', onKickOff)\r\n  this.socket.on('receiveRead', onReceiveRead)\r\n}\r\n//注册回调事件（监听服务端推送事件）\r\nChatClient.prototype.on = function (event, callback) {\r\n  this.events[event] = callback;\r\n  return this;\r\n}\r\n\r\n//与服务器建立webSocket连接\r\nChatClient.prototype.connect = function (data) {\r\n  if (!(\"io\" in window)) {\r\n    alert('浏览器不支持socket.io')\r\n    return false\r\n  }\r\n  let connectUrl = 'http://' + this.host + ':' + this.port\r\n  this.socket = io.connect(connectUrl)\r\n  registerEvent.call(this)\r\n  return true\r\n}\r\n\r\nexport function ChatClient({host, port}) {\r\n\r\n  this.host = host\r\n  this.port = port\r\n  this.socket = null\r\n  this.events = []\r\n\r\n  this.register = function (param) {\r\n    this.socket.emit(\"register\", param);\r\n  }\r\n\r\n  this.login = function (param) {\r\n    this.socket.emit(\"login\", param);\r\n  }\r\n\r\n  this.sendMsg = function (param) {\r\n    this.socket.emit('sendMsg', param);\r\n  }\r\n\r\n  this.read = function (param) {\r\n    this.socket.emit('read', param)\r\n  }\r\n}\r\n\r\nfunction callBack({code, rMsg, rData}) {\r\n  if (code === 1) {\r\n    store.commit('initUsers',rData)\r\n    store.commit('initSessions', rData.sessions)\r\n    cache('credential', rData)\r\n  } else {\r\n    alert(rMsg)\r\n  }\r\n}\r\n\r\nfunction onReceiveRead(message) {\r\n  let currentSession = store.state.currentSession\r\n\r\n  if(currentSession && currentSession.loginName === message.to){\r\n    //往当前对话窗口添加消息\r\n    let session = {}\r\n    copyProperties(session, currentSession)\r\n    session.messages.find(msg => msg.id === message.id).read = true\r\n    return store.state.currentSession = session\r\n  }\r\n}\r\n\r\nfunction onReceiveMsg(message) {\r\n  let exitSession,\r\n    sessions = store.state.sessions,\r\n    currentSession = store.state.currentSession\r\n\r\n  if(currentSession && currentSession.loginName === message.from){\r\n    //往当前对话窗口添加消息\r\n    let session = {}\r\n    copyProperties(session, currentSession)\r\n    session.messages.push(message)\r\n    store.state.currentSession = session\r\n    return store.state.client.read(message) //已读\r\n  }\r\n\r\n  let userFrom = findUser(message.from)\r\n\r\n  //往聊天缓存中添加消息\r\n  if (!(exitSession = findSession(message.from))) {\r\n    // 聊天记录里面没有from的session，新建from的session\r\n    exitSession = {\r\n      loginName: message.from,\r\n      img: userFrom.img,\r\n      messages: [message]\r\n    }\r\n    sessions.push(exitSession)\r\n  } else {\r\n    //from的session加入消息\r\n    exitSession.messages.push(message)\r\n  }\r\n\r\n  //\r\n  // if(userFrom.notReadMsgCount) userFrom.notReadMsgCount = 0\r\n  // userFrom.notReadMsgCount++\r\n}\r\n\r\nfunction onDisconnect(loginName) {\r\n  store.state.users = store.state.users.filter(item => item.loginName !== loginName)\r\n}\r\n\r\nfunction onNotifyUserLogin(onlineUser) {\r\n  store.commit('refreshUser',onlineUser)\r\n}\r\n\r\nfunction onKickOff({rData}) {\r\n  store.commit('logout')\r\n  alert(rData)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/frontend/js/client.js","import Vue from 'vue';\r\nimport App from './app.vue';\r\nimport store from './js/store';\r\nimport './css/reset.css'\r\n\r\nVue.config.devtools = true;\r\n\r\nnew Vue({\r\n  el: '#app',\r\n  template: '<App/>',\r\n  components: { App },\r\n  store: store\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/frontend/main.js"],"sourceRoot":""}